function Helper(){"use strict"}function ModelXhr(){"use strict";this.xhr=function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}}function Site(){"use strict"}function AjaxConstructor(){"use strict"}function AjaxLoaderMultimedia(e,t){"use strict";e&&(this.element=e,this.count=t.getAttribute("data-count"),this.state=!0,this._Masonry_=null,this.commonProps(this,null))}function AjaxLoadCategory(e){"use strict";e&&(this.count=1,this.container=e,this.state=!0,this.commonProps(this,"general"))}function AjaxLoaderCategorySingle(e,t){"use strict";e&&(this.element=e,this.id=t.getAttribute("data-id")?t.getAttribute("data-id"):null,this.count=t.getAttribute("data-count"),this.state=!0,this.commonProps(this,null))}function Currency(){"use strict";var e="http://"+location.hostname+"/site/tryCurrency";this.Xhr("GET",e,null,this,this.templates)}function Modal(){"use strict";var e=this;this.login=document.querySelector(".-login"),this.registration=document.querySelector(".-registration"),this.about=document.querySelector(".-about"),this.outerModal=document.querySelector(".val-modal-login-reg-outer"),this.rememberPassOrBack=document.querySelectorAll(".-val-remember-pass"),this.formSubmit=this.outerModal?this.outerModal.querySelectorAll("form"):null,this.StaticForm=null,this.listen(["click"],[this.login,this.registration,this.about],[e.openForm.bind(e,this.login),e.openForm.bind(e,this.registration),e.openForm.bind(e,this.about)]);for(var t=0;t<this.rememberPassOrBack.length;t++)this.listen(["click"],[this.rememberPassOrBack[t]],e.openRememberPassOrBack.bind(e));for(var a=0;a<this.formSubmit.length;a++)this.listen(["click"],[this.formSubmit[a]],e.sendForm.bind(e,this.formSubmit[a].id))}function Slider(e){"use strict";e&&(this.list=e,this.countChild=e.children.length,this.width=e.parentNode.clientWidth,this.currentSlide=0,this.timer,e.style.width=this.width*this.countChild+"px",this.createControls(this.countChild),this.listen(["mouseenter","mouseleave"],[this.list],this.autoStopOrStart.bind(this)))}function IframeGemerate(e){"use strict";if(!e)return!1;var t=e.getAttribute("data-src").split(","),a=this,o="";t.forEach(function(e){o+=a.template(e)}),e.insertAdjacentHTML("afterbegin",o)}function MansoryGenerator(e){e&&[].forEach.call(e,this.generateMansory)}function Market(e){if(e){this.element=e;for(var t=this.element.children,a=0;a<t.length;a++)this.listen(["mouseenter","mouseleave"],[t[a]],this.HandlerToMouseEnterLeave)}}function MenuButton(e,t){"use strict";return t||e?void this.listen(["click"],[e],this.slideMenu.bind(this,t,e)):!1}function StickyAccordeon(e){"use strict";if(e){var t=this;t.accordeon=e.querySelector(".val-accordeons-block"),t.listen(["scroll"],[window],t.positionOfAccordeon.bind(t))}}function weatherForVal(){"use strict";var e="https://query.yahooapis.com/v1/public/yql?q=select%20item%20from%20weather.forecast%20where%20woeid%3D918233%20and%20u%3D%22c%22&format=json&l=ru";this.Xhr("GET",e,null,this,this.queryForecast)}function FacebookPopUp(){"use strict";window.localStorage.popUp?(this.time=this.returnDateNow(window.localStorage.time),this.now=this.returnDateNow(),this.results=this.now-this.time,this.results<432e6&&this.tryToGenerate()):this.tryToGenerate()}Helper.prototype.returnDateNow=function(e){"use strict";var t=e?new Date(e):new Date,a=new Date(t.getDate(),t.getMonth(),t.getFullYear()).valueOf();return a},Helper.prototype.dateHalper=function(e,t){"use strict";var a=e.split(" "),o=new Date(a[0]);if(this.returnDateNow()>this.returnDateNow(a[0])){var r=this.mounthObject(o.getMonth()+1,t),n=o.getDate(),s=o.getFullYear();return n+" "+r+" "+s}return a[1].slice(0,-3)},Helper.prototype.mounthObject=function(e,t){"use strict";var a={ru:{1:"Января",2:"Февраля",3:"Марта",4:"Апреля",5:"Мая",6:"Июня",7:"Июля",8:"Августа",9:"Сентября",10:"Октября",11:"Ноября",12:"Декабря"},uk:{1:"Січня",2:"Лютого",3:"Березня",4:"Квітня",5:"Травня",6:"Червня",7:"Липня",8:"Серпня",9:"Вересня",10:"Жовтня",11:"Листопада",12:"Грудня"}};return a[t][e]},Helper.prototype.inObject=function(e,t,a,o){for(var r in e){if(Object.keys(e[r]).indexOf(t)>-1){a(e[r][t],o);break}Object.keys(e[r]).length>0&&"object"==typeof e[r]&&this.inObject(e[r],t,a,o)}},Helper.prototype.dayInUkranian=function(e){var t={Mon:"Понедiлок",Tue:"Вiвторок",Wed:"Середа",Thu:"Четвер",Fri:"П`ятниця",Sat:"Субота",Sun:"Недiля"};return t[e]},Helper.prototype.tempDescription=function(e){var t={0:"Торнадо",1:"Тропічний шторм",2:"Ураган",3:"Сильні грози",4:"Грози",5:"Змішаний дощ зi снігом",6:"Змішаний дощ зi снігом",7:"Змішаний дощ зi снігом",8:"Паморозь",9:"Мряка",10:"Град",11:"Зливи",12:"Зливи",13:"Сніговi пориви",14:"Легкий сніг",15:"Хуртовина",16:"Снiг",17:"Град",18:"Дощ зі снігом",19:"Туманно",20:"Туманно",21:"Туманно",22:"Туманно",23:"Вітрянно",24:"Вітрянно",25:"Прохолодно",26:"Хмарно",27:"Переважно хмарно",28:"Переважно хмарно",29:"Мінлива хмарність",30:"Мінлива хмарність",31:"Ясно",32:"Сонячно",33:"Ясно",34:"Ясно",35:"Змішаний дощ з градом",36:"Спекотно",37:"Грози",38:"Розсіяні грози",39:"Розсіяні грози",40:"Мінлива хмарність",41:"Сильний снігопад",42:"Снігопад",43:"Сильний снігопад",44:"Мінлива хмарність",45:"Зливи",46:"Зливовий сніг",47:"Зливи"};return t[e]},Helper.prototype.templateImage=function(e,t){"use strict";var a='<a href="/site/news/'+e.id+'" class="val-news-item-category val-category-image"><div class="val-item-outer-category-image"><img src="/uploads/news/thumb/'+e.image+'" alt="'+e["title_"+t]+'"></div><div class="val-line-vews-data"><span class="val-content-news-data">'+this.dateHalper(e.date,t)+'</span><span class="val-news-view">'+e.views+'</span></div><h2 class="val-title-news-category">'+e["title_"+t]+"</h2></a>";return a},Helper.prototype.templateWithoutImage=function(e,t){"use strict";var a='<a href="/site/news/'+e.id+'" class="val-news-item-category"><div class="val-line-vews-data"><span class="val-content-news-data">'+this.dateHalper(e.date,t)+'</span><span class="val-news-view">'+e.views+'</span></div><h2 class="val-title-news-category">'+e["title_"+t]+'</h2><p class="val-description-news-category">'+e["description_"+t].slice(0,250)+"...</p></a>";return a},Helper.prototype.scrollHandler=function(e){"use strict";document.body.offsetHeight-1500<window.scrollY+window.innerHeight&&this.state&&!e?(this.state=!1,this.generateDataAjax()):document.body.offsetHeight-700<window.scrollY+window.innerHeight&&this.state&&this.count<10&&e&&(7===this.count&&this.count++,this.state=!1,this.generateDataAjax(this.count))},Helper.prototype.inArray=function(e,t){"use strict";for(var a=0,o=t.length;o>a;a++)if(t[a]==e)return!0;return!1},Helper.prototype.listen=function(e,t,a){var o,r=!1;if("Object"==typeof a&&t.length!=a.length)throw{message:"The number of elements handler does not match"};r=!0,e.forEach(function(e,n){t.forEach(function(t,n){o=r?a:a[n],t.addEventListener(e,o)})})},ModelXhr.prototype=Object.create(Helper.prototype),ModelXhr.prototype.Xhr=function(e,t,a,o,r){"use strict";if(a){var n=a.querySelectorAll("input");i=new FormData;for(var s=0;s<n.length;s++)i.append(n[s].name,n[s].value)}else var i=null;var l=new XMLHttpRequest;l.onreadystatechange=function(e){200===l.status&&4===l.readyState&&r(l.responseText,o)},l.open(e,t,!0),l.send(i)},Site.prototype=Object.create(ModelXhr.prototype),AjaxConstructor.prototype=Object.create(Site.prototype),AjaxConstructor.prototype.commonProps=function(e,t){"use strict";this.listen(["scroll"],[window],e.scrollHandler.bind(e,t)),t||e.generateDataAjax()};var handlerAllStart=function(){"use strict";new FacebookPopUp,new Slider(document.querySelector(".val-list-slider")),new IframeGemerate(document.querySelector(".val-iframe-streams")),new AjaxLoadCategory(document.querySelector(".val-full-width-category")),new Modal,new Currency,new weatherForVal,new MenuButton(document.querySelector(".val-button-menu"),document.querySelector(".val-all-outer")),new Market(document.querySelector(".val-market-table")),new StickyAccordeon(document.getElementById("val-only-else-pages")),new AjaxLoaderCategorySingle(document.getElementById("val-single-category"),document.getElementById("val-count-and-id")),new AjaxLoaderMultimedia(document.getElementById("val-single-multimedia"),document.getElementById("val-count-and-id")),new Pikaday({field:document.getElementById("datepicker")}),new MansoryGenerator(document.querySelectorAll(".-for-mansory-container"))},handlerToError=function(e){console.log(e)};-1==location.href.indexOf("jasmine")&&(window.addEventListener("DOMContentLoaded",handlerAllStart),window.addEventListener("error",handlerToError)),AjaxLoaderMultimedia.prototype=Object.create(AjaxConstructor.prototype),AjaxLoaderMultimedia.prototype.generateDataAjax=function(){"use strict";this.Xhr("GET","/site/GetMultimedia?offset="+this.count,null,this,this.template)},AjaxLoaderMultimedia.prototype.template=function(e,t){"use strict";function a(){t.count=JSON.parse(e).offset,t.state=!0}var o=JSON.parse(JSON.parse(e).multimedia),r=JSON.parse(e).language,n=[];o.forEach(function(e,t){var a=document.createElement("a"),o=document.createElement("div"),s=new Image,i=document.createElement("span"),l="-val-ico-"+e.type;a.href="photo"==e.type?"/"+r+"/site/photos/"+e.id:"/"+r+"/site/video/"+e.id,a.classList.add("val-block-multimedia",l),o.classList.add("val-image-block-multimedia"),"photo"==e.type?s.src="http://val.ua/uploads/galery/category/"+e.image:s.src="http://img.youtube.com/vi/"+e.image+"/mqdefault.jpg",i.classList.add("-val-multimedia-description"),i.innerHTML=e["name_"+r],o.appendChild(s),a.appendChild(i),a.appendChild(o),n.push(a)});for(var s=n.length-1;s>=0;s--)t.element.appendChild(n[s]);t._Masonry_?(t._Masonry_.appended(n),t._Masonry_.layout(),a()):setTimeout(function(){t._Masonry_=new Masonry(t.element,{itemSelector:".val-block-multimedia",columnWidth:1}),a(),t.element.style.opacity=1},500)},AjaxLoadCategory.prototype=Object.create(AjaxConstructor.prototype),AjaxLoadCategory.prototype.generateDataAjax=function(e){"use strict";var t=this;this.Xhr("GET","/site/GetCategory?id="+e,null,t,t.responseGetServer)},AjaxLoadCategory.prototype.responseGetServer=function(e,t){"use strict";var a=JSON.parse(e),o=JSON.parse(a.news),r=JSON.parse(a.category),n=a.language;t.templateCategory(o,r,n)},AjaxLoadCategory.prototype.templateCategory=function(e,t,a){"use strict";for(var o=this,r='<div class="val-category-block"><h2 class="val-title-uppercase-with-line">'+t[0]["name_"+a]+'</h2><div class="val-news-list-category">',n=0;n<e.length;n++)r+=0===n?o.templateImage(e[n],a):o.templateWithoutImage(e[n],a);r+="</div></div>",o.container.insertAdjacentHTML("beforeend",r),this.state=!0,this.count++},AjaxLoaderCategorySingle.prototype=Object.create(AjaxConstructor.prototype),AjaxLoaderCategorySingle.prototype.generateDataAjax=function(){"use strict";this.Xhr("GET","/site/GetCategoryByIdXhrOrNotId?id="+this.id+"&offset="+this.count,null,this,this.template)},AjaxLoaderCategorySingle.prototype.template=function(e,t){"use strict";var a=JSON.parse(JSON.parse(e).news),o=JSON.parse(e).language,r="";a.forEach(function(e){r+='<a href="/site/news/'+e.id+'" class="val-block-gen-news"><div class="val-image-block-gen-news"><img src="/uploads/news/thumb/'+e.image+'"></div><div class="val-description-block-gen-news"><span class="val-news-view">'+e.views+'</span><span class="val-content-news-data">'+t.dateHalper(e.date,o)+'</span><h3 class="val-content-news-title-small">'+e["title_"+o]+"</h3></div></a>"}),t.element.insertAdjacentHTML("beforeend",r),t.count=JSON.parse(e).offset,t.state=!0},Currency.prototype=Object.create(Site.prototype),Currency.prototype.templates=function(e,t){"use strict";var a,o=JSON.parse(e),r=["ПриватБанк","ПУМБ","Укрсоцбанк"],n=[];[].reduce.call(o,function(e,t,o){return-1==r.indexOf(t.bankName)?0:(0!=e&&t.bankName==e||(a={},a.bankName=t.bankName),a[t.codeAlpha]={rateBuy:t.rateBuy,rateBuyDelta:t.rateBuyDelta,rateSale:t.rateSale,rateSaleDelta:t.rateSaleDelta},a&&Object.keys(a).length>3&&n.push(a),t.bankName)},0),t.templateForArray(n,t)},Currency.prototype.templateForArray=function(e,t){"use strict";var a="<table class='-new-currensy'><tr><th><span>Банк</span></th><th><span style='font-size: 18px'>&#402;</span></th><th><span>Покупка</span></th><th><span>Продажа</span></th></tr>";[].forEach.call(e,function(e,o){a+="<tr><td><p><i>"+e.bankName+"</i></p></td><td><span><b>&euro;</b></span><span><b>$</b></span><span><b>R</b></span></td><td><span>"+t.gets(e,"EUR","rateBuy")+"</span> <span>"+t.gets(e,"USD","rateBuy")+"</span> <span>"+t.gets(e,"RUB","rateBuy")+"</span></td><td><span>"+t.gets(e,"EUR","rateSale")+"</span> <span>"+t.gets(e,"USD","rateSale")+"</span> <span>"+t.gets(e,"RUB","rateSale")+"</span></td></tr>"}),a+="</table>";var o=document.querySelector(".-currency-val");o.insertAdjacentHTML("beforeend",a)},Currency.prototype.gets=function(e,t,a){"use strict";var o,r;return e[t]?"rateBuy"==a?(r="<mark>"+Number(e[t][a]).toFixed(2)+"</mark>",o=e[t].rateBuyDelta>0?"<i class='-to-hight'> &nbsp; &#9650;</i>":e[t].rateBuyDelta<0?"<i class='-to-low'> &nbsp; &#9660;</i>":"",r+=o):"rateSale"==a?(r="<mark>"+Number(e[t][a]).toFixed(2)+"</mark>",o=e[t].rateSaleDelta>0?"<i class='-to-hight'> &nbsp; &#9650;</i>":e[t].rateSaleDelta<0?"<i class='-to-low'> &nbsp; &#9660;</i>":"",r+=o):void 0:"-"},Modal.prototype=Object.create(Site.prototype),Modal.prototype.openForm=function(e,t){"use strict";this.contentBox="object"==typeof e?document.querySelector("."+e.getAttribute("data-attr")):document.querySelector("."+e),this.contentBox.style.display="block",this.outerModal=this.outerModal?this.outerModal:document.querySelector(".val-modal-login-reg-outer"),this.outerModal.classList.add("-active-outer"),this.contentBox.classList.add("-animate-content-window"),this.closeActivated()},Modal.prototype.closeActivated=function(e){"use strict";var t=this.contentBox.querySelector(".val-close-modals__event_closes"),a=this;this.listen(["click"],[t],a.closeModal.bind(a))},Modal.prototype.closeModal=function(){"use strict";var e=this;this.contentBox.classList.add("-animate-content-window-close"),e.outerModal.classList.add("-active-outer-out"),setTimeout(function(){e.outerModal.classList.remove("-active-outer","-active-outer-out"),e.contentBox.style.display="none",e.removeClass(e.contentBox,["-animate-content-window","-animate-content-window-close"])},500)},Modal.prototype.removeClass=function(e,t){"use strict";t.forEach(function(t){e.classList.remove(t)})},Modal.prototype.openRememberPassOrBack=function(){"use strict";for(var e=event&&event.target,t=e.parentNode.parentNode,a=t.querySelectorAll("form"),o=0;o<a.length;o++)if("none"===window.getComputedStyle(a[o]).getPropertyValue("display")){var r=a[o].querySelector(".val-notice");r&&r.parentNode.removeChild(r),a[o].style.display="block"}else a[o].style.display="none"},Modal.prototype.sendForm=function(e,t){"use strict";t.preventDefault();var a="/site/"+e;this.StaticForm=t.target,this.Xhr("POST",a,this.StaticForm,this,this.responseFromServer)},Modal.prototype.responseFromServer=function(e,t){"use strict";JSON.parse(e).href?window.location.href=location.protocol+"//"+location.host+JSON.parse(e).href:t.StaticForm.insertAdjacentHTML("beforeend",'<p class="val-notice">'+JSON.parse(e)+"</p>"),t.StaticForm&&t.StaticForm.reset()},Slider.prototype=Object.create(Site.prototype),Slider.prototype.createControls=function(e){"use strict";for(var t=document.querySelector(".val-display-controls"),a="",o=this,r=0;e>r;r++)a+=0===r?"<span class='-active-slide' data-slide="+r+"></span>":"<span data-slide="+r+"></span>";t.insertAdjacentHTML("afterbegin",a),this.listen(["click"],[t],o._clickSlideHandlers.bind(o)),this._autoChangeSlide(),this.controlsBuild=!0},Slider.prototype._clickSlideHandlers=function(e){"use strict";function t(e,t){var a=document.querySelector(".-active-slide");o.list.style.cssText+="transition-duration: "+t+"s; ",o.list.style.cssText+="transform: translateX("+e+"px)",o.currentSlide=r,o.move=e,a.parentNode.querySelector("span[data-slide='"+r+"']").classList.add("-active-slide"),a.classList.remove("-active-slide")}var a=e.target?e.target:e,o=this,r=a.getAttribute("data-slide")?parseInt(a.getAttribute("data-slide")):null;null==r||a.classList.contains("-active-slide")||t(parseInt(-o.width*r),.8)},Slider.prototype._autoChangeSlide=function(){"use strict";var e=this;this.timer=setTimeout(function(){var t=document.querySelector(".-active-slide"),a=t.nextElementSibling?t.nextElementSibling:t.parentNode.firstElementChild;e._clickSlideHandlers(a),e._autoChangeSlide()},6e3)},Slider.prototype.autoStopOrStart=function(e){var t=this,a=e.type;"mouseenter"==a?clearTimeout(t.timer):t._autoChangeSlide()},IframeGemerate.prototype.template=function(e){"use strict";var t="<div class='val-outer-frame'><span class='val-ico-online'><i>Online</i></span><iframe width='100%' height='270px' src='"+e+"' frameborder='0' allowfullscreen></iframe></div>";return t},MansoryGenerator.prototype.generateMansory=function(e){function t(t){delete t,o>r?r++:(new Masonry(e,{itemSelector:n,columnWidth:1}),e.style.opacity="1",e.querySelector(".val-block-multimedia-gallery")&&$(function(){$(n).imageLightbox()}))}var a=e.querySelectorAll("img"),o=a.length,r=1,n=e.querySelector(".val-block-multimedia-gallery")?".val-block-multimedia-gallery":".val-block-multimedia";[].forEach.call(a,function(e,a){var o=new Image;o.src=e.src,o.onload=function(){t(this)}})},Market.prototype=Object.create(Site.prototype),Market.prototype.HandlerToMouseEnterLeave=function(){var e=this.getAttribute("data-attr"),t=document.getElementById(e);t&&("mouseenter"==event.type?t.style.display="block":t.style.display="none")},MenuButton.prototype=Object.create(Site.prototype),MenuButton.prototype.slideMenu=function(e,t){"use strict";t.classList.toggle("-val-active-menu-side"),e.classList.toggle("val-all-outer-animate")},StickyAccordeon.prototype=Object.create(Site.prototype),StickyAccordeon.prototype.positionOfAccordeon=function(){"use strict";var e=this.accordeon.parentNode.getBoundingClientRect(),t=document.querySelector(".val-footer").getBoundingClientRect();e.top<=30&&t.top>450?this.accordeon.style.paddingTop=-e.top+"px":e.top>30&&this.accordeon.getAttribute("style")&&this.accordeon.removeAttribute("style")},weatherForVal.prototype=Object.create(Site.prototype),weatherForVal.prototype.generateTemp=function(e,t){var a=e.forecast,o=e.condition.temp,r=t.creaters(a),n='<div class="drop-weather-button"><div class="outer-today-ico"><span class="icons-for-c-min icon-weather-min-'+a[0].code+'"></span><i class="today-weather"> '+o+' С°</i></div><div class="drop-wether"><p class="for-genwether"><span class="title-weather">Погода</span><span class="city-weather">Украина, Чернигов</span></p><div class="section-today"><div class="for-weather-icon"><h5 class="section-heading">Сьогодні</h5><span class="icons-for-c icon-weather-'+a[0].code+'"></span></div><div class="weather-detail"><h4 class="weather-heading"><span class="temp-now"> '+o+' С° </span><span class="phrase"> Температура зараз</span></h4><span class="temperature high-temperature">'+a[0].high+' С°</span>&nbsp; - &nbsp;<span class="temperature low-temperature">'+a[0].low+' С°</span><p class="summary">'+t.tempDescription(a[0].code)+'</p></div></div><div class="section-this-week"><h5 class="section-heading">Тиждень</h5><ul class="item-list-temperature">'+r+"</ul></div></div></div>",s=document.querySelector(".outer-for-weather");s.insertAdjacentHTML("beforeend",n)},weatherForVal.prototype.queryForecast=function(e,t){"use strict";var a=JSON.parse(e);t.inObject(a,"item",t.generateTemp,t)},weatherForVal.prototype.creaters=function(e){"use strict";var t="",a=this;return[].forEach.call(e,function(e,o){0!=o&&5>o&&(t+='<li class="item-time-temperature"><span class="icons-for-c icon-weather-'+e.code+'"></span><span class="day">'+a.dayInUkranian(e.day)+'</span><span class="temperature-days high-temperature">'+e.high+' С°</span>&nbsp;-&nbsp;<span class="temperature-days low-temperature">'+e.low+" С°</span></li>")}),t},FacebookPopUp.prototype=Object.create(Modal.prototype),FacebookPopUp.prototype.tryToGenerate=function(){"use strict";var e=document,t="script",a="facebook-jssdk",o=e.getElementsByTagName(t)[0],r=e.createElement(t),n=this;r.id=a,r.src="//connect.facebook.net/uk_UA/sdk.js#xfbml=1&version=v2.7&appId=857884574261497",e.getElementById(a)||(o.parentNode.insertBefore(r,o),setTimeout(function(){FB.Event.subscribe("edge.create",function(e){n.closeModal()}),n.openForm("-facebook-open"),n.addStoryToLocalStorage()},1e4))},FacebookPopUp.prototype.addStoryToLocalStorage=function(){"use strict";var e=this.now?this.now:this.returnDateNow();localStorage.setItem("popUp",!0),localStorage.setItem("time",e)};